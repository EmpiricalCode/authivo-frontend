<!-- NAV BAR -->
<div id="nav-bar">
  
  <div id="nav-bar-left">
    <div id="app-logo-container" onclick="window.location=window.location.origin">
      <!-- <svg width="23" height="23" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
        <circle r="90" cx="100" cy="100" style="fill: var(--primary)"></circle>
        <circle r="60" cx="100" cy="100" style="fill: var(--background);"></circle>
        <rect width="150" height="30" x="23" y="85" style="fill: var(--primary)"></rect>
        <polygon points="70,150 130,150 150,190 50,190" style="fill: var(--background);"></polygon>
        <circle r="15" cx="60.6" cy="164" style="fill: var(--primary)"></circle>
        <circle r="15" cx="139.4" cy="164" style="fill: var(--primary)"></circle>
      </svg> -->
      <img src="../favicon.ico" width="28px" height="28px">
      <p id="app-title">authivo</p>
    </div>

    <div style="padding: 5px 8px 5px 8px; border-radius: 10px; background: var(--primary); color: white; font-family: 'Montserrat'; font-weight: 600; margin-left: 5px; margin-top: -2px;">BETA</div>

  </div>

  <div id="nav-bar-right" *ngIf="shouldShowNavRight()">
    <a class="nav-bar-button" href="/documentation">Documentation</a>
    <a class="nav-bar-button" href="/tutorials">Tutorials</a>
    <img onclick="window.location.href = 'https://github.com/empiricalcode/authivo-frontend'" class="nav-bar-image-button" src="../assets/images/github-logo.png" width="30px" height="30px">
    <div style="width: 2px; height: 30px; background: var(--border); transition: 0.2s;"></div>
    <a class="nav-bar-button" id="login-button" href="/login" *ngIf="!this.loggedIn">
      <svg width="20px" height="20px" viewBox="0 0 30 34">
        <path style="fill: none; stroke: var(--nav-bar-button); stroke-width: 3; stroke-linecap: round;" d="M 16 2 C 7 2 7 15 16 15 M 30 32 C 30 22 22 18 16 18 C 10 18 2 22 2 32 L 30 32 M 16 15 C 25 15 25 2 16 2"></path>
      </svg>
      Login
    </a>
    <a class="nav-bar-button" id="dashboard-button" href="/dashboard" *ngIf="this.loggedIn">
      <svg width="20px" height="20px" viewBox="0 0 45 45">
        <rect style="fill: none; stroke: var(--nav-bar-button); stroke-width: 4px;" width="17" height="20" x="2" y="2" rx="3"></rect>
        <rect style="fill: none; stroke: var(--nav-bar-button); stroke-width: 4px;" width="17" height="14" x="26" y="2" rx="3"></rect>
        <rect style="fill: none; stroke: var(--nav-bar-button); stroke-width: 4px;" width="17" height="14" x="2" y="29" rx="3"></rect>
        <rect style="fill: none; stroke: var(--nav-bar-button); stroke-width: 4px;" width="17" height="20" x="26" y="23" rx="3"></rect> 
      </svg>
      Dashboard
    </a>

    <div id="profile-dropdown-container" *ngIf="this.loggedIn">

      <a id="profile-button" class="nav-bar-button profile-dropdown-member" (click)="this.toggleProfileDropdown()">
        <svg class="profile-dropdown-member" style="min-width: 20px; margin-right: 2px" height="20px" viewBox="0 0 30 34">
          <path class="profile-dropdown-member" style="fill: none; stroke: var(--nav-bar-button); stroke-width: 3; stroke-linecap: round;" d="M 16 2 C 7 2 7 15 16 15 M 30 32 C 30 22 22 18 16 18 C 10 18 2 22 2 32 L 30 32 M 16 15 C 25 15 25 2 16 2"></path>
        </svg>
        <p id="profile-button-inner" class="profile-dropdown-member">{{this.userData.username}}</p>
      </a>

      <div id="profile-dropdown" *ngIf="this.loggedIn" [ngClass]="this.profileDropdown ? '' : 'dropdown-hidden'" (click)="this.showProfileDropdown()">
        <button class="profile-dropdown-button" (click)="this.redirectTo('/settings')">
          <svg viewBox="0 0 18 18" width="15" height="17" style="fill: none; stroke: var(--nav-bar-button); stroke-width: 2.5px">
            <circle r="5" cx="9" cy="9"></circle>
            <line x1="9" y1="1" x2="9" y2="4" style="stroke-linecap: round;"></line>
            <line x1="9" y1="14" x2="9" y2="17" style="stroke-linecap: round;"></line>
            <line x1="13" y1="6" x2="16" y2="4" style="stroke-linecap: round;"></line>
            <line x1="5" y1="6" x2="2" y2="4" style="stroke-linecap: round;"></line>
            <line x1="13" y1="12" x2="16" y2="14" style="stroke-linecap: round;"></line>
            <line x1="5" y1="12" x2="2" y2="14" style="stroke-linecap: round;"></line>
          </svg>
          Settings
        </button>
        <button class="profile-dropdown-button profile-dropdown-member" (click)="this.redirectTo('/')">
          <svg viewBox="0 0 10 10" width="15px" height="15px">
            <path style="fill: none; stroke: var(--nav-bar-button); stroke-width: 1.3px; stroke-linecap: round;" d="M 1 5 L 5 1 L 9 5 M 2 5 L 2 9 L 8 9 L 8 5"></path>
          </svg>
          Home
        </button>
        <button class="profile-dropdown-button profile-dropdown-member" (click)="this.logout()">
          <svg viewBox="-1 -1 12 12" width="15px" height="15px">
            <path style="fill: none; stroke: var(--nav-bar-button); stroke-width: 1.5px; stroke-linecap: round;" d="M 0 10 L 0 0 L 5 0 M 3 5 L 10 5 L 10 5 L 7 2 M 10 5 L 7 8 M 0 10 L 5 10"></path>
          </svg>
          Logout
        </button>
      </div>
    </div>
  </div>
</div>  

<div #errorMessageContainer id="error-message-container"></div>

<!-- MAIN CONTENT -->
<router-outlet></router-outlet>